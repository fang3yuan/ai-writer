<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Image Generator</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
  <header>
    <h1>AI Image Generator</h1>
    <nav>
      <a href="index.html"><i data-lucide="home"></i> Home</a>
      <a href="chat.html"><i data-lucide="message-circle"></i> Chat</a>
    </nav>
  </header>

  <main>
    <section class="image-container">
      <h2>Generate Images from Text</h2>
      <textarea id="image-description" placeholder="Describe the image you want..." rows="4"></textarea>
      <button id="generate-image">Generate Image</button>
      <div id="image-output"></div>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Smart AI Hub</p>
  </footer>

  <script>
    lucide.createIcons();

    document.getElementById("generate-image").addEventListener("click", async function() {
      const description = document.getElementById("image-description").value.trim();
      if (!description) {
        alert("Please enter an image description.");
        return;
      }
      const outputDiv = document.getElementById("image-output");
      outputDiv.innerHTML = "<p>Generating image, please wait...</p>";
      
      try {
        const response = await fetch("https://api.deepai.org/api/text2img", {
          method: "POST",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
            "api-key": "eaf5567e-4530-4bf8-87cb-b5db96876feb"
          },
          body: "text=" + encodeURIComponent(description)
        });
        const data = await response.json();
        if (data.output_url) {
          outputDiv.innerHTML = `<img src="${data.output_url}" alt="Generated Image"/>`;
        } else {
          outputDiv.innerHTML = "<p>Could not generate image. Please try again.</p>";
        }
      } catch (error) {
        outputDiv.innerHTML = "<p>Error: Unable to generate image.</p>";
      }
    });
  </script>

  <style>
    .image-container {
      max-width: 800px;
      margin: 30px auto;
      text-align: center;
      background: #1e1e1e;
      border-radius: 10px;
      padding: 20px;
    }
    .image-container textarea {
      width: 100%;
      padding: 12px;
      border-radius: 8px;
      border: 1px solid #333;
      font-size: 1rem;
      background-color: #2c2c2c;
      color: #f0f0f0;
    }
    .image-container button {
      background-color: #00bcd4;
      color: white;
      border: none;
      padding: 12px;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 10px;
    }
    .image-container button:hover {
      background-color: #0097a7;
    }
    #image-output img {
      width: 100%;
      max-width: 600px;
      margin-top: 20px;
      border-radius: 12px;
      border: 2px solid #444;
    }
  </style>
</body>
</html>
