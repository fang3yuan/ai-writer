<!DOCTYPE html><html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Writer</title>
  <meta name="description" content="موقع AI Writer يتيح لك توليد نصوص ذكية بناءً على أفكارك – مقالات، شعر، قصص والمزيد." />
  <meta name="keywords" content="AI, كتابة, ذكاء اصطناعي, مقالات, شعر, نصوص, قصص, عربي" />
  <meta name="author" content="YourName" />
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
    }
  </script>
</head>
<body class="bg-white dark:bg-gray-900 text-gray-900 dark:text-white min-h-screen flex flex-col">
  <header class="p-4 shadow-md bg-gray-100 dark:bg-gray-800 flex justify-between items-center">
    <h1 class="text-2xl font-bold">AI Writer</h1>
    <button id="toggleTheme" class="text-sm bg-gray-200 dark:bg-gray-700 px-4 py-2 rounded">تبديل المظهر</button>
  </header>  <main class="flex-1 flex flex-col items-center justify-center p-6">
    <div class="w-full max-w-xl space-y-4">
      <textarea id="prompt" placeholder="اكتب فكرتك هنا..." class="w-full h-32 p-4 rounded bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600"></textarea>
      <select id="type" class="w-full p-2 rounded bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600">
        <option value="story">قصة قصيرة</option>
        <option value="article">مقال</option>
        <option value="poem">شعر</option>
        <option value="tweet">تغريدة</option>
        <option value="joke">نكتة</option>
        <option value="tech_article">مقال تقني</option>
        <option value="research_paper">مقال بحثي</option>
        <option value="love_letter">رسالة حب</option>
        <option value="video_script">محتوى فيديو</option>
      </select>
      <div class="flex gap-4 mb-4">
        <select id="language" class="w-full p-2 rounded bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600">
          <option value="en">الإنجليزية</option>
          <option value="ar">العربية</option>
        </select>
        <button onclick="generateText()" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded">ابدأ الكتابة</button>
      </div>
      <div id="loading" class="hidden text-center p-4 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded">
        <span>جاري التوليد...</span>
      </div>
      <div id="result" class="mt-4 p-4 rounded bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 whitespace-pre-wrap hidden"></div>
      <div class="flex gap-2 mt-2 hidden" id="actions">
        <button onclick="copyText()" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded">نسخ</button>
        <button onclick="downloadText()" class="bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded">تحميل</button>
        <button onclick="downloadPDF()" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded">تصدير PDF</button>
      </div>
    </div>
  </main>  <footer class="p-4 text-center bg-gray-100 dark:bg-gray-800">
    <a href="https://fang3yuan.github.io/fang/" target="_blank" class="text-blue-500 hover:underline">جرّب هذا الموقع</a>
    <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">© 2025 AI Writer. كل الحقوق محفوظة.</p>
  </footer>  <script>
    const toggleBtn = document.getElementById('toggleTheme');
    toggleBtn.onclick = () => {
      document.documentElement.classList.toggle('dark');
      localStorage.setItem('theme', document.documentElement.classList.contains('dark') ? 'dark' : 'light');
    };

    window.onload = () => {
      if (localStorage.getItem('theme') === 'dark') {
        document.documentElement.classList.add('dark');
      }
    }

    async function generateText() {
      const prompt = document.getElementById('prompt').value.trim();
      const type = document.getElementById('type').value;
      const language = document.getElementById('language').value;
      const result = document.getElementById('result');
      const loading = document.getElementById('loading');
      const actions = document.getElementById('actions');

      if (!prompt) {
        alert("يرجى إدخال فكرة أولاً");
        return;
      }

      loading.classList.remove('hidden');
      result.classList.add('hidden');
      actions.classList.add('hidden');

      const fullPrompt = `من فضلك اكتب ${type} بناءً على الفكرة التالية:\n${prompt}`;

      try {
        const response = await fetch("https://api.openai.com/v1/chat/completions", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Authorization": "Bearer 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"
          },
          body: JSON.stringify({
            model: "gpt-3.5-turbo",
            messages: [{ role: "user", content: fullPrompt }],
            max_tokens: 500
          })
        });

        const data = await response.json();
        loading.classList.add('hidden');
        result.textContent = data.choices[0].message.content.trim();
        result.classList.remove('hidden');
        actions.classList.remove('hidden');
      } catch (error) {
        loading.classList.add('hidden');
        result.textContent = "حدث خطأ أثناء الاتصال بخدمة الذكاء الاصطناعي.";
        result.classList.remove('hidden');
      }
    }

    function copyText() {
      const text = document.getElementById('result').textContent;
      navigator.clipboard.writeText(text);
      alert("تم النسخ!");
    }

    function downloadText() {
      const text = document.getElementById('result').textContent;
      const blob = new Blob([text], { type: "text/plain" });
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = "ai_writer_output.txt";
      link.click();
    }

    function downloadPDF() {
      const text = document.getElementById('result').textContent;
      const doc = new jsPDF();
      doc.text(text, 10, 10);
      doc.save('ai_writer_output.pdf');
    }
  </script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script></body>
</html>
